<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hạt cafe Admin</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="admin.js" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-brand">Hạt cafe Admin</div>
        <div class="user-info" id="user-info">
            <span class="username">Xin chào, Admin</span>
            <button class="logout-btn">Đăng xuất</button>
        </div>
    </nav>

    <div class="layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <ul class="sidebar-menu">
                <li class="menu-item active" data-section="dashboard"><i class="fas fa-home"></i> Trang chủ</li>
                <li class="menu-item" data-section="products"><i class="fas fa-box"></i> Quản lý sản phẩm</li>
                <li class="menu-item" data-section="categories"><i class="fas fa-list"></i> Quản lý danh mục</li>
                <li class="menu-item" data-section="users"><i class="fas fa-user"></i> Quản lý người dùng</li>
                <li class="menu-item" data-section="orders"><i class="fas fa-shopping-cart"></i> Quản lý đơn hàng</li>
                <li class="menu-item" data-section="reviews"><i class="fas fa-star"></i> Quản lý đánh giá</li>
                <li class="menu-item" data-section="profit"><i class="fa-solid fa-money-bill"></i> Thống kê doanh thu
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard -->
            <section id="dashboard" class="section active">
                <h1>Welcome</h1>
                <p>Chào mừng bạn đến với trang quản trị.</p>
            </section>

            <!-- Quản lý sản phẩm -->
            <section id="products" class="section">
                <h1>Quản lý sản phẩm</h1>
                <div class="form-container">
                    <h2>Thêm sản phẩm</h2>
                    <form id="add-product-form">
                        <div class="form-group">
                            <label for="add-product-name">Tên sản phẩm</label>
                            <input type="text" id="add-product-name" required>
                        </div>
                        <div class="form-group">
                            <label for="add-product-category">Loại sản phẩm</label>
                            <select id="add-product-category" required>
                                <option value="">Đang tải danh mục...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="add-product-price">Giá</label>
                            <input type="number" id="add-product-price" required>
                        </div>
                        <div class="form-group">
                            <label for="add-product-stock">Số lượng</label>
                            <input type="number" id="add-product-stock" required>
                        </div>
                        <div class="form-group">
                            <label for="add-product-description">Mô tả</label>
                            <textarea id="add-product-description" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="add-product-image">Chọn file ảnh</label>
                            <input type="file" id="add-product-image" accept="image/*">
                        </div>
                        <div class="form-group">
                            <label for="image-url">Đường dẫn ảnh</label>
                            <input type="text" id="image-url" readonly>
                        </div>
                        <button type="submit" class="btn btn-outline-primary">Thêm sản phẩm</button>
                    </form>
                </div>

                <div class="form-container">
                    <h2>Tìm kiếm sản phẩm</h2>
                    <form id="search-product-form">
                        <div class="form-group">
                            <label for="search-product">Nhập từ khóa tìm kiếm</label>
                            <input type="text" id="search-product" placeholder="Tên sản phẩm hoặc ID">
                        </div>
                        <button type="submit" class="btn btn-outline-primary">Tìm kiếm</button>
                        <button class="btn btn-outline-secondary newlist">Làm mới danh sách</button>
                    </form>
                </div>
                <div id="edit-product-modal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h3>Sửa sản phẩm</h3>
                        <form id="edit-product-form">
                            <input type="hidden" id="edit-product-id">
                            <div class="form-group">
                                <label for="edit-product-name">Tên sản phẩm</label>
                                <input type="text" id="edit-product-name" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-product-category">Loại sản phẩm</label>
                                <select id="edit-product-category" required></select>
                            </div>
                            <div class="form-group">
                                <label for="edit-product-price">Giá</label>
                                <input type="number" id="edit-product-price" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-product-stock">Số lượng</label>
                                <input type="number" id="edit-product-stock" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-product-description">Mô tả</label>
                                <textarea id="edit-product-description" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="edit-product-image">Chọn file ảnh</label>
                                <input type="file" id="edit-product-image" accept="image/*">
                            </div>
                            <div class="form-group">
                                <label for="image-url">Đường dẫn ảnh</label>
                                <input type="text" id="image-url-edit" readonly>
                            </div>
                            <button type="submit" class="btn btn-outline-primary">Cập nhật</button>
                        </form>
                    </div>
                </div>


                <table class="table" id="products-table">
                    <thead>
                        <tr>
                            <th>Image</th>
                            <th>ID</th>
                            <th>Tên</th>
                            <th>Giá</th>
                            <th>Số lượng</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>


            <!-- Quản lý danh mục -->
            <section id="categories" class="section">
                <h1>Quản lý danh mục</h1>
                <div class="form-container">
                    <h2>Thêm danh mục</h2>
                    <form id="add-category-form">
                        <div class="form-group">
                            <label for="add-category-name">Tên danh mục</label>
                            <input type="text" id="add-category-name" required>
                        </div>
                        <div class="form-group">
                            <label for="add-category-description">Mô tả danh mục</label>
                            <input type="text" id="add-category-description" required>
                        </div>
                        <button type="submit" class="btn btn-outline-primary">Thêm sản phẩm</button>
                    </form>
                </div>
                <div class="form-container">
                    <h2>Tìm kiếm loại sản phẩm</h2>
                    <form id="search-category-form">
                        <div class="form-group">
                            <label for="search-category">Nhập từ khóa tìm kiếm</label>
                            <input type="text" id="search-category" placeholder="Tên loại sản phẩm">
                        </div>
                        <button type="submit" class="btn btn-outline-primary">Tìm kiếm</button>
                        <button class="btn btn-outline-secondary newlist">Làm mới danh sách</button>
                    </form>
                </div>
                <div id="edit-category-modal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h3>Sửa danh mục</h3>
                        <form id="edit-category-form">
                            <input type="hidden" id="edit-category-id">
                            <div class="form-group">
                                <label for="edit-category-name">Tên danh mục</label>
                                <input type="text" id="edit-category-name" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-category-description">Mô tả danh mục</label>
                                <input type="text" id="edit-category-description" required>
                            </div>
                            <button type="submit" class="btn btn-outline-primary">Cập nhật</button>
                        </form>
                    </div>
                </div>

                <table class="table" id="categories-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Tên danh mục</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Danh mục sẽ được tải từ API -->
                    </tbody>
                </table>
            </section>

            <!-- Quản lý người dùng -->
            <section id="users" class="section">
                <h1>Quản lý người dùng</h1>
                <div class="form-container">
                    <h2>Tìm kiếm người dùng</h2>
                    <form id="search-user-form">
                        <div class="form-group">
                            <label for="search-user">Nhập từ khóa tìm kiếm</label>
                            <input type="text" id="search-user" placeholder="Tên người dùng">
                        </div>
                        <button type="submit" class="btn btn-outline-primary">Tìm kiếm</button>
                    </form>
                </div>
                <table class="table" id="users-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Tên người dùng</th>
                            <th>Email</th>
                            <th>SĐT</th>
                            <th>Vai trò</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Người dùng sẽ được tải từ API -->
                    </tbody>
                </table>
            </section>


            <!-- Quản lý đơn hàng -->
            <section id="orders" class="section">
                <h1>Quản lý đơn hàng</h1>
                <div class="form-container">
                    <h2>Tìm kiếm order theo tên người dùng</h2>
                    <form id="search-order-form">
                        <div class="form-group">
                            <label for="search-order">Nhập từ khóa tìm kiếm</label>
                            <input type="text" id="search-order" placeholder="Tên người dùng">
                        </div>
                        <button type="submit" class="btn btn-outline-primary">Tìm kiếm</button>
                    </form>
                </div>
                <table class="table" id="orders-table">
                    <thead>
                        <tr>
                            <th>ID order</th>
                            <th>Tên người order</th>
                            <th>Ngày đặt</th>
                            <th>Gía tiền</th>
                            <th>Trạng thái thanh toán</th>
                            <th>Trạng thái vận chuyển</th>
                            <th>Trạng thái đơn</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Đơn hàng sẽ được tải từ API -->
                    </tbody>
                </table>

                <div id="orderDetailModal" class="modal">
                    <div class="modal-content" id="modal-content">
                        <span class="close-modal" id="close-modal" style="float: right; cursor: pointer;">&times;</span>
                        <div class="invoice">
                            <h3 style="text-align: center;">HÓA ĐƠN BÁN HÀNG</h3>
                            <p>Mã hóa đơn: <span id="invoice-id">#12345</span></p>
                            <p>Ngày: <span id="invoice-date">01/12/2024</span></p>
                            <p>Khách hàng: <span id="customer-name">Nguyễn Văn A</span></p>
                            <p>địa chỉ: <span id="location">yên lịch</span></p>
                            <p>số điện thoại: <span id="phonenumber">0339706393</span></p>

                            <table class="table" id="tablechitiet">
                                <thead>
                                    <tr>
                                        <th>Sản phẩm</th>
                                        <th>Số lượng</th>
                                        <th>Đơn giá</th>
                                        <th>Thành tiền</th>
                                    </tr>
                                </thead>
                                <tbody id="order-detail-table">
                                    <!-- Nội dung sẽ được thêm động -->
                                </tbody>
                            </table>

                            <div class="total-section">
                                <h4>Tổng cộng: <span id="tongorder" style="float: right;">0 VND</span></h4>
                            </div>
                        </div>

                        <button class="btn btn-secondary print-order" id="print-order-btn">In hóa đơn</button>
                    </div>
                </div>


            </section>





            <!-- Quản lý đánh giá -->
            <section id="reviews" class="section">
                <h1>Quản lý đánh giá</h1>
                <div class="form-container">
                    <h2>Tìm kiếm đánh giá theo tên người dùng</h2>
                    <form id="search-review-form">
                        <div class="form-group">
                            <label for="search-review">Nhập từ khóa tìm kiếm</label>
                            <input type="text" id="search-review" placeholder="Tên người dùng">
                        </div>
                        <button type="submit" class="btn btn-outline-primary">Tìm kiếm</button>
                    </form>
                </div>
                <table class="table" id="reviews-table">
                    <thead>
                        <tr>
                            <th>ID đánh giá</th>
                            <th>ID Sản phẩm</th>
                            <th>Người đánh giá</th>
                            <th>Điểm</th>
                            <th>Bình luận</th>
                            <th>Thời gian</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Đánh giá sẽ được tải từ API -->
                    </tbody>
                </table>
            </section>


            <section id="profit" class="section">
                <h1>Thống kê doanh thu - lợi nhuận</h1>
                <label for="year-select">Chọn năm:</label>
                <select id="year-select"></select>
                <canvas id="profit-chart" width="400" height="200"></canvas>
            </section>

        </main>
    </div>

    <!-- Toast Container -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="errorToast" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive"
            aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    <!-- Thông báo lỗi sẽ được chèn ở đây -->
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
            </div>
        </div>
    </div>

    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="successToast" class="toast align-items-center text-bg-success border-0" role="alert"
            aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    <!-- Thông báo thành công sẽ được chèn ở đây -->
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
            </div>
        </div>
    </div>
</body>

</html>